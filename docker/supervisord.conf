[supervisord]
nodaemon=true
logfile=/app/logs/supervisord.log
pidfile=/var/run/supervisord.pid

[program:redis]
command=/usr/bin/redis-server /etc/redis/redis.conf
autostart=true
autorestart=true
stdout_logfile=/app/logs/redis.log
stderr_logfile=/app/logs/redis-error.log
priority=1

[program:kvrocks]
command=/usr/local/bin/kvrocks -c /etc/kvrocks/kvrocks.conf
autostart=true
autorestart=true
stdout_logfile=/app/logs/kvrocks.log
stderr_logfile=/app/logs/kvrocks-error.log
priority=2
startsecs=3

[program:bob]
command=/app/bob /app/bob.json
directory=/data/bob
autostart=true
autorestart=true
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0
priority=10
startsecs=5
startretries=10

[program:cleanup]
command=/app/cleanup.sh
autostart=true
autorestart=true
stdout_logfile=/app/logs/cleanup.log
stderr_logfile=/app/logs/cleanup-error.log
priority=20
